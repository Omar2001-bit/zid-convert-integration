/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
var e,t,n,o,i,E,l,c,s,r,a,d,A,O,R,T,u;!function(e){e.VARIAION_NOT_DECIDED="convert.com_variation_not_decided"}(e||(e={})),function(e){e.FORCE_MULTIPLE_TRANSACTIONS="forceMultipleTransactions"}(t||(t={})),function(e){e.OFF="OFF",e.EU_ONLY="EU ONLY",e.EEA_ONLY="EEA ONLY",e.WORLDWIDE="Worldwide"}(n||(n={})),function(e){e.AUDIENCE="audience",e.LOCATION="location",e.SEGMENT="segment",e.FEATURE="feature",e.GOAL="goal",e.EXPERIENCE="experience",e.VARIATION="variation"}(o||(o={})),function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(i||(i={})),function(e){e.AMOUNT="amount",e.PRODUCTS_COUNT="productsCount",e.TRANSACTION_ID="transactionId"}(E||(E={})),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(l||(l={})),function(e){e.LOG="log",e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(c||(c={})),function(e){e.WEB="web",e.FULLSTACK="fullstack"}(s||(s={})),function(e){e.NO_DATA_FOUND="convert.com_no_data_found",e.NEED_MORE_DATA="convert.com_need_more_data"}(r||(r={})),function(e){e.READY="ready",e.CONFIG_UPDATED="config.updated",e.API_QUEUE_RELEASED="api.queue.released",e.BUCKETING="bucketing",e.CONVERSION="conversion",e.SEGMENTS="segments",e.LOCATION_ACTIVATED="location.activated",e.LOCATION_DEACTIVATED="location.deactivated",e.AUDIENCES="audiences",e.DATA_STORE_QUEUE_RELEASED="datastore.queue.released"}(a||(a={})),function(e){e.RICH_STRUCTURE="richStructure",e.CUSTOM_CODE="customCode",e.DEFAULT_CODE="defaultCode",e.DEFAULT_CODE_MULTIPAGE="defaultCodeMultipage",e.DEFAULT_REDIRECT="defaultRedirect",e.FULLSTACK_FEATURE="fullStackFeature"}(d||(d={})),function(e){e.IE="IE",e.CH="CH",e.FF="FF",e.OP="OP",e.SF="SF",e.EDG="EDG",e.MO="MO",e.NS="NS",e.OTH="OTH"}(A||(A={})),function(e){e.ALLPH="ALLPH",e.IPH="IPH",e.OTHPH="OTHPH",e.ALLTAB="ALLTAB",e.IPAD="IPAD",e.OTHTAB="OTHTAB",e.DESK="DESK",e.OTHDEV="OTHDEV"}(O||(O={})),function(e){e.COUNTRY="country",e.BROWSER="browser",e.DEVICES="devices",e.SOURCE="source",e.CAMPAIGN="campaign",e.VISITOR_TYPE="visitorType",e.CUSTOM_SEGMENTS="customSegments"}(R||(R={})),function(e){e.CAMPAIGN="campaign",e.SEARCH="search",e.REFERRAL="referral",e.DIRECT="direct"}(T||(T={})),function(e){e.NEW="new",e.RETURNING="returning"}(u||(u={}));const _=l.TRACE;class I{constructor(e=console,t=_,n){this._defaultMapper={[c.LOG]:c.LOG,[c.DEBUG]:c.DEBUG,[c.INFO]:c.INFO,[c.WARN]:c.WARN,[c.ERROR]:c.ERROR,[c.TRACE]:c.TRACE},this._clients=[],this.addClient(e,t,n)}_isValidLevel(e){return Object.values(l).includes(e)}_isValidMethod(e){return Object.values(c).includes(e)}_log(e,t,...n){this._clients.forEach((o=>{var i,E;if(t>=o.level&&l.SILENT!==t){const t=o.sdk[o.mapper[e]];t?t.call(o.sdk,...n):(console.log(`Info: Unable to find method "${e}()" in client sdk:`,null===(E=null===(i=o.sdk)||void 0===i?void 0:i.constructor)||void 0===E?void 0:E.name),console[e](...n))}}))}log(e,...t){this._isValidLevel(e)?this._log(c.LOG,e,...t):console.error("Invalid Log Level")}trace(...e){this._log(c.TRACE,l.TRACE,...e)}debug(...e){this._log(c.DEBUG,l.DEBUG,...e)}info(...e){this._log(c.INFO,l.INFO,...e)}warn(...e){this._log(c.WARN,l.WARN,...e)}error(...e){this._log(c.ERROR,l.ERROR,...e)}addClient(e=console,t=_,n){if(!e)return void console.error("Invalid Client SDK");if(!this._isValidLevel(t))return void console.error("Invalid Log Level");const o=Object.assign({},this._defaultMapper);n&&Object.keys(n).filter(this._isValidMethod).forEach((e=>{o[e]=n[e]})),this._clients.push({sdk:e,level:t,mapper:o})}setClientLevel(e,t){if(this._isValidLevel(e))if(t){const n=this._clients.findIndex((({sdk:e})=>e===t));if(-1===n)return void console.error("Client SDK not found");this._clients[n].level=e}else for(let t=0,n=this._clients.length;t<n;t++)this._clients[t].level=e;else console.error("Invalid Log Level")}}export{I as LogManager};
//# sourceMappingURL=index.min.mjs.map
